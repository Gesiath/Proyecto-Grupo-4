<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../static/css/index.css" />
    <link rel="stylesheet" href="../static/css/PerfilCliente.css" />
    <title>WorkMerge</title>
  </head>

  <body>
    <section class="seccion-perfil-usuario">
      <div class="perfil-usuario-header">
        <div class="perfil-usuario-portada">
          <div class="perfil-usuario-avatar">
            <img
              src="http://localhost/multimedia/relleno/img-c9.png"
              alt="img-avatar"
            />
            <button type="button" class="boton-avatar">
              <i class="far fa-image"></i>
            </button>
          </div>
          <button type="button" class="boton-portada">
            <i class="far fa-image"></i> Cambiar fondo
          </button>
        </div>
      </div>
      <div class="perfil-usuario-body">
        <div class="perfil-usuario-bio">
          <h3 class="name">NOMBRE DE LA EMPRESA</h3>
        </div>
      </div>
    </section>

    <div class="container">
      <!--Botones de error y exito-->
      <div
        th:if="${error}"
        class="alert alert-danger alert-dismissible fade show mt-3"
        role="alert"
      >
        <span th:text="${error}"></span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      <div
        th:if="${success}"
        class="alert alert-success alert-dismissible fade show mt-3"
        role="alert"
      >
        <span th:text="${success}"></span>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
      <div class="card mt-3">
        <div class="card-header d-flex">
          <h1>Mis anuncios</h1>
          <button class="btn btn-success px-3 py-2 ms-auto">
            <a class="btn btn-success px-3 py-2 ms-auto" href="trabajo-form"
              >Crear Anuncio</a
            >
          </button>
        </div>
        <div class="card-body">
          <form class="row g-3" th:action="@{#}" method="GET">
            <div class="col">
              <input
                type="text"
                style="width: 100%"
                name="q"
                placeholder="Buscar.."
              />
            </div>
            <div class="col-2">
              <button type="submit" class="btn btn btn-primary">Buscar</button>
            </div>
          </form>
          <table class="table table-success table-striped table-bordered">
            <thead>
              <tr>
                <th>Numero</th>
                <th>Id</th>
                <th>Título</th>
                <th>Fecha posteo</th>
                <th>Disponibilidad</th>
                <th>Categoría</th>
                <th>Descripción</th>
                <th>Salario</th>
                <th>Experiencia Req</th>
                <th>Activo</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr th:each="t, iterator : ${trabajos}">
                <td th:text="${iterator.index+1}"></td>
                <td th:text="${t.id}"></td>
                <td th:text="${t.titulo}"></td>
                <td th:text="${t.fechadepost}"></td>
                <td th:text="${t.disponibilidad}"></td>
                <td th:text="${t.categoria}"></td>
                <td th:text="${t.descripcion}"></td>
                <td th:text="${t.salario}"></td>
                <td th:text="${t.experienciarequerida}"></td>
                <td th:text="${t.activo}"></td>
                <td>
                  <button class="btn btn btn-primary btn-sm">
                    <a
                      th:href="@{/persona/delete}+'?id='+${p.id}"
                      class="px-2 py-2"
                      >Eliminar</a
                    >
                  </button>
                  <button class="btn btn btn-primary btn-sm">
                    <a
                      th:href="@{/persona/form}+'?id='+${p.id}"
                      class="px-2 py-2"
                      >Editar</a
                    >
                  </button>
                </td>
              </tr>
            </tbody>
            <p th:if="${trabajos.isEmpty()}">No hay anuncios para mostrar.</p>
          </table>
        </div>
      </div>
    </div>

    <footer class="container-fluid">
      <div class="contenedor">
        <h2 class="título-sección">WorkMerge</h2>
      </div>
      <div class="redes-sociales">
        <i class="fab fa-twitter"></i>
        <i class="fab fa-facebook-f"></i>
        <i class="fab fa-youtube"></i>
      </div>
      <div class="contenedor">
        <small class="copy">
          WorkMerge 2021/Todos los derechos reservados</small
        >
        <address class="copy">Argentina</address>
      </div>
    </footer>

    <script
      src="https://kit.fontawesome.com/bdbed0aafa.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.min.js"></script>
  </body>
</html>
